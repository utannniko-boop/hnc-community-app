/* =========================================================
   HNC Community PWA - style.css（桜テーマ・全置換）
   Palette: 白 + 桜（淡桃）+ 金アクセント
   ========================================================= */

/* ---------- Design Tokens ---------- */
:root{
  /* Base */
  --bg: #fff;
  --bg-soft: #fff7fb;         /* ほんのり桜 */
  --panel: #ffffff;
  --text: #2a2430;            /* 少し紫みの黒 */
  --text-muted: #6f6273;

  /* Sakura */
  --sakura-50:  #fff7fb;
  --sakura-100: #feeef6;
  --sakura-200: #fde3ef;
  --sakura-300: #fbcfe8;
  --sakura-400: #f5a9c6;
  --sakura-500: #ee85ad;      /* 基調ピンク（控えめ） */

  /* Gold accent */
  --gold-300: #f2e6c8;
  --gold-400: #e7d7a7;
  --gold-500: #d8bf6e;

  /* Borders / shadows */
  --line: #f0dbe6;
  --line-strong: #e9cfe0;
  --shadow: 0 6px 18px rgba(170, 120, 150, .12);

  /* Buttons / States */
  --primary: var(--sakura-500);
  --primary-ink: #7f2b50;
  --primary-hover: #e36f9f;

  --ring: #eaa8c2;
  --ring-strong: #e374a4;

  /* Radii / Spacing */
  --r-sm: 10px;
  --r-md: 16px;
  --r-lg: 20px;

  --gap-1: 6px;
  --gap-2: 10px;
  --gap-3: 14px;
  --gap-4: 18px;
}

/* ---------- Reset-ish ---------- */
* { box-sizing: border-box; }
html,body{ height:100%; }
html{ -webkit-text-size-adjust: 100%; }
body{
  margin:0; padding:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic", "Helvetica Neue", Arial, sans-serif;
  color: var(--text);
  background:
    radial-gradient(1000px 400px at 80% -100px, var(--sakura-50), transparent 60%),
    radial-gradient(900px 380px at -10% -120px, var(--sakura-100), transparent 60%),
    var(--bg);
  line-height: 1.65;
}

/* ---------- Topbar ---------- */
.topbar{
  position: sticky; top:0; z-index: 50;
  display:flex; align-items:center; justify-content:space-between; gap: 12px;
  padding: 14px 18px;
  background: rgba(255,255,255,.82);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--line);
}
.topbar h1{
  margin:0; font-size: clamp(18px, 3.2vw, 22px); font-weight: 800;
  letter-spacing: .02em;
  background: linear-gradient(90deg, #c25b86, #d8a1b9 60%, #b27a47);
  -webkit-background-clip: text; background-clip: text; color: transparent;
}

/* ---------- Nav (tabs) ---------- */
nav{ display:flex; gap: 8px; flex-wrap: wrap; }

.tab-btn{
  appearance:none; border:1px solid var(--line);
  background: linear-gradient(#fff, #fff9fd);
  padding: 8px 12px; border-radius: 999px;
  font-weight: 600; color: var(--primary-ink);
  transition: transform .05s ease, box-shadow .2s ease, border-color .2s ease;
  box-shadow: 0 1px 0 rgba(0,0,0,.02);
  cursor: pointer;
}
.tab-btn:hover{ border-color: var(--line-strong); box-shadow: 0 2px 10px rgba(200,120,160,.12); }
.tab-btn:active{ transform: translateY(1px) scale(.99); }
.tab-btn:focus-visible{
  outline: none; box-shadow: 0 0 0 3px var(--ring);
}

/* ---------- Layout ---------- */
.container{
  max-width: 980px; margin: 24px auto; padding: 0 16px;
  display: grid; gap: 16px;
}
.tab{ display:none; }
.tab.active{ display:block; animation: fadeIn .22s ease; }
@keyframes fadeIn{ from{ opacity:0; transform: translateY(4px);} to{ opacity:1; transform:none;} }

/* ---------- Cards ---------- */
.card{
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--r-lg);
  box-shadow: var(--shadow);
  padding: 16px 16px;
}
.card.highlight{
  background: linear-gradient(180deg, var(--sakura-50), #fff);
  border-color: var(--gold-300);
}
.card h2, .card h3{
  margin: 0 0 10px; line-height: 1.35;
}
.card h2{ font-size: clamp(18px, 3.4vw, 22px); }
.card h3{ font-size: clamp(17px, 3.2vw, 20px); }

.disclaimer{
  background: #fff1f6; border-left: 4px solid var(--primary); padding: 8px 10px;
  border-radius: var(--r-sm);
}

/* ---------- Lists ---------- */
.list{ list-style: none; padding: 0; margin: 0; }
.list li{
  padding: 10px 8px;
  border-bottom: 1px dashed var(--line);
}
.list li:last-child{ border-bottom: 0; }
.list.small li{ padding: 8px 6px; }

.meta{ color: var(--text-muted); font-size: .92rem; }

/* ---------- Badges / Links ---------- */
.badge{
  display: inline-block; padding: 2px 8px;
  border-radius: 999px; font-size: .78rem; font-weight: 700;
  color: var(--primary-ink);
  background: var(--sakura-100); border:1px solid var(--line-strong);
}
.linklike{
  appearance:none; border:0; background:transparent; padding:0; cursor:pointer;
  color: #8d3e6a; text-decoration: underline; text-underline-offset: 3px;
}
a{ color: #8d3e6a; }
a:hover{ color: #7a345a; }

/* ---------- Inputs & Forms ---------- */
input, select, textarea, button{
  font: inherit;
}
input[type="text"], input[type="search"], input:not([type]),
input[type="email"], input[type="password"], textarea, select{
  width: 100%;
  border: 1px solid var(--line); border-radius: var(--r-md);
  padding: 10px 12px; background: #fff;
  transition: border-color .15s ease, box-shadow .2s ease;
}
select{ background: linear-gradient(#fff, #fff9fd); }
input:focus, textarea:focus, select:focus{
  outline: none; border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--ring);
}

/* 提出ボタン（フォーム内） */
form .tab-btn[type="submit"]{
  background: linear-gradient(180deg, var(--sakura-300), var(--sakura-200));
  border-color: var(--line-strong);
}
form .tab-btn[type="submit"]:hover{
  background: linear-gradient(180deg, var(--sakura-400), var(--sakura-300));
}

/* ---------- Section helpers ---------- */
.footer{
  margin: 18px 0 40px;
  text-align: center; color: var(--text-muted);
}

/* ---------- Trials セクション（既存強化CSSと親和） ---------- */
#trials .list-title{
  margin: 12px 4px 6px; font-size: .95rem; color:#7a4e6a;
}
#trials .trial{
  border: 1px solid var(--line-strong); border-radius: var(--r-md);
  background: #fff; margin: 8px 0; padding: 10px 10px;
  transition: box-shadow .2s ease, transform .05s ease;
}
#trials .trial:hover{ box-shadow: var(--shadow); }
#trials .trial .title{ font-weight: 700; text-decoration: none; }
#trials .chips{ display:flex; flex-wrap:wrap; gap:6px; margin-top:6px; }
.badge.pill{ background: var(--sakura-100); border:1px solid var(--line-strong); }

/* アコーディオン */
#trials .trial.acc .acc-head{ display:flex; align-items:flex-start; justify-content:space-between; gap:8px; cursor:pointer; }
#trials .trial.acc .acc-body{ display:none; margin-top:8px; }
#trials .trial.acc[data-acc="open"] .acc-body{ display:block; }

/* Trials のフィルタバー（sticky） */
.trials-controls{
  position: sticky; top: calc(56px + 6px); /* topbarの下 */
  z-index: 5;
  display: flex; justify-content: space-between; gap: 12px; flex-wrap: wrap;
  padding: 10px 12px; margin-bottom: 10px;
  background: rgba(255,255,255,0.88); backdrop-filter: blur(6px);
  border: 1px solid var(--line); border-radius: var(--r-md);
}
.trials-controls label{ margin-right: 12px; white-space: nowrap; }
.trials-controls .seg{ display: inline-flex; border: 1px solid var(--line-strong); border-radius: 999px; overflow: hidden; }
.trials-controls .seg-btn{
  padding: 6px 12px; border: none; background: transparent; cursor: pointer;
  font-size: 0.92rem;
}
.trials-controls .seg-btn.active{ background: var(--sakura-100); }

/* ---------- “桜×金” の装飾線（見出し下に細い金ライン） ---------- */
.card h2::after, .card h3::after{
  content:""; display:block; height: 2px; width: 56px; margin-top: 6px;
  background: linear-gradient(90deg, var(--gold-500), var(--gold-300));
  border-radius: 2px;
}

/* ---------- Utility ---------- */
.badge.success{ background:#e8f9ef; border-color:#c9eed8; color:#2a7b4f; }
.badge.warn{ background:#fff7e6; border-color:#f2e6c8; color:#7b5a2a; }

.grid{ display:grid; gap: 14px; }
@media (min-width: 900px){
  .grid.cols-2{ grid-template-columns: 1fr 1fr; }
  .grid.cols-3{ grid-template-columns: repeat(3, 1fr); }
}

/* ---------- Focus Ring for clickable texts ---------- */
a:focus-visible, .linklike:focus-visible, .tab-btn:focus-visible{
  outline: none; box-shadow: 0 0 0 3px var(--ring-strong);
  border-radius: 8px;
}

/* ---------- Small tweaks for admin area ---------- */
#admin-auth .badge{ background: var(--sakura-100); border-color: var(--line-strong); }

/* ---------- Home: search inputs spacing ---------- */
#home .card input#cancer-search,
#home .card input#histo-search{ margin-bottom: 10px; }

/* ---------- Print nice ---------- */
@media print{
  .topbar, nav, .footer { display:none !important; }
  body{ background:#fff !important; }
  .container{ max-width: 100%; margin:0; padding:0; }
  .card{ box-shadow:none; border-color:#ddd; }
}
