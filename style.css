/* =========================================================
   HNC Community PWA — style.css
   桜×パステルのやさしいUI / カード / タブ / 底ナビ / 花びら
   - index.html / app.js は直前版のままでOK
   ========================================================= */

/* -------- 基本色 -------- */
:root{
  --ink:#243040;           /* 文字 */
  --ink-soft:#5c6b7a;      /* 補助文字 */
  --bg:#f7f7fb;            /* ページ背景 */
  --card:#ffffff;          /* カード背景 */
  --line:#e9e9f2;          /* 枠線 */
  --brand:#a03962;         /* ブランド（梅色） */
  --brand-2:#f3b7c5;       /* 薄桃 */
  --brand-3:#ffe9f1;       /* さらに淡い桃 */
  --accent:#7c9cff;        /* アクセント（リンクなど） */
  --ok:#3aa981;
  --warn:#e6a23c;
  --bad:#e45757;
  --shadow:0 10px 30px rgba(0,0,0,.06);
}

/* -------- リセット -------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans JP", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  line-height:1.65;
  color:var(--ink);
  background:var(--bg);
  text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased;
}
a{color:var(--accent);text-underline-offset:2px}
a:hover{opacity:.9}

/* -------- トップバー -------- */
.topbar{
  position:sticky; top:0; z-index:50;
  background:linear-gradient(90deg,#f6c8d8,#f0e6ef);
  border-bottom:1px solid #e6ccda;
  padding:12px;
  box-shadow:0 1px 0 rgba(255,255,255,.7) inset;
}
.topbar h1{margin:0;font-size:18px;letter-spacing:.02em}
.topbar nav{margin-top:8px;display:flex;flex-wrap:wrap;gap:8px}
.tab-btn{
  background:#fff; border:1px solid var(--line);
  padding:8px 12px; border-radius:10px; cursor:pointer;
  box-shadow:0 1px 0 rgba(0,0,0,.04);
  transition:transform .05s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
}
.tab-btn:hover{transform:translateY(-1px)}
.tab-btn.active{outline:2px solid var(--brand);color:var(--brand);}

/* -------- ヒーロー -------- */
.hero{
  background:var(--card);
  border-bottom:1px solid var(--line);
  padding:24px 12px;
}
.hero-inner h2{margin:0 0 6px;font-size:22px}
.hero .meta{color:var(--ink-soft);margin:0}

/* -------- レイアウト -------- */
.container{max-width:1040px;margin:24px auto;padding:0 14px}
.grid-2{display:grid;gap:16px;grid-template-columns:1fr}
@media(min-width:900px){.grid-2{grid-template-columns:1fr 1fr}}

/* -------- カード -------- */
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:14px;
  padding:16px;
  box-shadow:var(--shadow);
}
.card.highlight{
  border-color:var(--brand-2);
  background:linear-gradient(180deg,#fff,#fff8fb);
}

/* -------- テキスト / バッジ -------- */
.meta{color:var(--ink-soft);font-size:13px}
.badge{
  display:inline-block;
  background:var(--brand-3);
  color:var(--brand);
  border:1px solid var(--brand-2);
  border-radius:999px;
  padding:2px 10px;
  font-size:12px;
  vertical-align:baseline;
}

/* -------- リスト -------- */
.list{list-style:none;margin:10px 0 0;padding:0}
.list li{padding:12px 6px;border-bottom:1px dashed var(--line)}
.list.small li{padding:10px 4px}
.list li:last-child{border-bottom:0}

/* -------- 入力系 -------- */
input,textarea,select{
  width:100%; padding:10px 12px;
  border:1px solid var(--line);
  border-radius:10px; background:#fff;
  outline:none; transition:border-color .2s ease, box-shadow .2s ease;
}
input:focus,textarea:focus,select:focus{
  border-color:#c6b6ff;
  box-shadow:0 0 0 3px rgba(124,156,255,.15);
}
textarea{resize:vertical}

/* -------- タブ表示/非表示 -------- */
.tab{display:none}
.tab.active{display:block}

/* -------- フッター -------- */
.footer{color:var(--ink-soft);text-align:center;margin:40px 0 20px}

/* -------- ボトムナビ -------- */
.bottom-nav{
  position:sticky; bottom:0; z-index:40;
  background:#fff; border-top:1px solid var(--line);
  padding:10px; display:flex; gap:10px; justify-content:space-around;
  box-shadow:0 -4px 20px rgba(0,0,0,.04);
}
.bottom-nav .tab-btn{
  background:#fafafa;border:1px solid var(--line);
  border-radius:12px; padding:10px 14px;
}

/* -------- リンクライク（ボタン） -------- */
.linklike{
  color:var(--accent); cursor:pointer;
  text-decoration:underline; text-underline-offset:3px;
}

/* -------- トピック折りたたみ -------- */
.topic-toggle{
  display:flex; align-items:center; justify-content:space-between;
  width:100%; border:0; background:transparent; cursor:pointer;
  padding:0; color:inherit; text-align:left;
}
.topic-item{padding:10px 0;border-bottom:1px dashed var(--line)}
.topic-item:last-child{border-bottom:0}

/* -------- 花びら（CSSアニメ） -------- */
.petal-field{position:relative;height:0;pointer-events:none}
.petal{
  position:fixed; top:-5vh; left:0;
  width:12px; height:12px; background:radial-gradient(circle at 30% 30%, #fff, #f7b7cb 70%);
  border-radius:60% 40% 60% 40% / 60% 60% 40% 40%;
  opacity:.8; filter:blur(.2px);
  transform:translate3d(var(--x, 0), -10vh, 0) rotate(0deg);
  animation:fall var(--dur, 12s) linear infinite, sway calc(var(--dur, 12s) * .5) ease-in-out infinite;
}
@keyframes fall{
  0%{transform:translate3d(var(--x, 0), -10vh, 0) rotate(0deg)}
  100%{transform:translate3d(var(--wind, 40vw), 110vh, 0) rotate(360deg)}
}
@keyframes sway{
  0%,100%{border-radius:60% 40% 60% 40% / 60% 60% 40% 40%}
  50%{border-radius:40% 60% 40% 60% / 40% 40% 60% 60%}
}

/* -------- テーブルっぽい行（治験） -------- */
#trials .badge{margin-left:6px}
#trials a strong{font-weight:700}
#trials .meta{margin-top:4px}

/* -------- レスポンシブ微調整 -------- */
@media (max-width:480px){
  .topbar h1{font-size:16px}
  .hero-inner h2{font-size:20px}
}

/* -------- ダークモード（端末設定に追従） -------- */
@media (prefers-color-scheme: dark){
  :root{
    --bg:#111418; --card:#171a20; --line:#2a2f3a;
    --ink:#e7ebf2; --ink-soft:#a5b0bf;
    --accent:#9bb4ff; --brand:#d77ea3; --brand-2:#b86e8a; --brand-3:#3a2530;
    --shadow:0 10px 24px rgba(0,0,0,.35);
  }
  .topbar{border-bottom-color:#3a2530}
  .tab-btn{background:#1b2029;border-color:#2a2f3a;color:var(--ink)}
  .tab-btn.active{background:#221b22}
  .bottom-nav{background:#14161c}
  .bottom-nav .tab-btn{background:#1a1f28}
}
